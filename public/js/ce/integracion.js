$(document).ready(function() {
    $('#tbl_miembroin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_ocupacionin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_historiain').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_cargoin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_quisin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_cein').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_pccein').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_otrain').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_comitein').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_registroin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_renovacionin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_actualizacionin').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_informein').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_fechasom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_protocolosom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_icfsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_manualsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_polizasom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_desviacionsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_eassom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_susarsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_renovacionsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_erratassom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_copiassom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_respprotocolosom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_respicfsom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_respanimalessom').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_reunion').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_enmiendaseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_desviacionseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_easseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_otroseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_renovacionseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_erratasseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_informeseg').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_auditoria').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

    $('#tbl_domicilioci').DataTable({
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "language": espanol
    });

} );

let espanol = {
    "sProcessing":     "Procesando...",
    "sLengthMenu":     "Mostrar _MENU_ registros",
    "sZeroRecords":    "No se encontraron resultados",
    "sEmptyTable":     "Ningún dato disponible en esta tabla",
    "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
    "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
    "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
    "sInfoPostFix":    "",
    "sSearch":         "Buscar:",
    "sUrl":            "",
    "sInfoThousands":  ",",
    "sLoadingRecords": "Cargando...",
    "oPaginate": {
        "sFirst":    "Primero",
        "sLast":     "Último",
        "sNext":     "Siguiente",
        "sPrevious": "Anterior"
    },
    "oAria": {
        "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
    },
    "buttons": {
        "copy": "Copiar",
        "colvis": "Visibilidad"
    }
};

$("input[name='i98']").click(function()
{     
    if($(this).val() == "No"){
        document.getElementById("divi98").style.backgroundColor="#FF4040";
    }else{
        document.getElementById("divi98").style.backgroundColor="#FFF";
    }
});

$("input[name='i111']").click(function()
{     
    if($(this).val() == "No"){
        document.getElementById("divi111").style.backgroundColor="#FF4040";
    }else{
        document.getElementById("divi111").style.backgroundColor="#FFF";
    }
});

function RegresarIntegracion(){
    list_miembroin();
}

function Tablas1In(){
    list_ocupacionin();
    list_historiain();
    list_cargoin();
    list_quisin();
    list_cein();
    list_pccein();
    list_otrain();
}

function Tablas3In(){
    list_registroin();
    list_renovacionin();
}

function Tablas4In(){
    list_actualizacionin();
    list_informein();
}

var addmiembro=56;
function AMiembroIn(){
    if(addmiembro==83){
        $('#btn_miembroin').hide();
        $('#divi'+addmiembro).show();
    }else{
        $('#divi'+addmiembro).show();
    }
    addmiembro++;
}


function CargarPeriodoIn(){
    empresa_id=$('#empresa_id').val();
    $.ajax({
        url: "/eq-ce/cargarperiodo_integracion",
        method:'POST',
        dataType: 'json',
        data:{empresa_id:empresa_id, _token:$('input[name="_token"]').val()},
        success:function(resp){
            var periodos = JSON.parse(resp);
            $('#i86').empty();

            $("#i86").append("<option selected value=''>Seleccione...</option>");
            $.each(periodos, function() {
                $('#i86').append("<option value='"+this.id+"'>"+this.i43+"</option>");
            });
        }
    });
}


function CargarMiembroIn(){
    empresa_id=$('#empresa_id').val();
    $.ajax({
        url: "/eq-ce/cargarmiembro_integracion",
        method:'POST',
        dataType: 'json',
        data:{empresa_id:empresa_id, _token:$('input[name="_token"]').val()},
        success:function(resp){
            var miembros = JSON.parse(resp);
            for(a=52; a<=84; a++){
                $('#i'+a).empty();
                $("#i"+a).append("<option selected value=''>Seleccione...</option>");
                $.each(miembros, function() {
                    $('#i'+a).append("<option value='"+this.integracion_id+"'>"+this.i1+"</option>");
                });
            }
        }
    });
}


function CargarCEIn(comite){
    if(comite == "Comité de Ética en Investigación (CE)"){
        $('#divi47').show();
        $('#divi48').show();
        $('#divi49').show();
        $('#divi50').hide();
        $('#divi51').hide();
    }else if(comite == "Comité de Investigación (CI)"){
        $('#divi47').hide();
        $('#divi48').hide();
        $('#divi49').hide();
        $('#divi50').show();
        $('#divi51').show();
    }else{
        $('#divi47').hide();
        $('#divi48').hide();
        $('#divi49').hide();
        $('#divi50').hide();
        $('#divi51').hide();
    }
}



function SalirIntegracion(){
    $('#confirmModal').modal('show');
 }

$('#btnCancelar').click(function(){
    window.location.href = "/eq-ce";
});

function GuardarIntegracion(){
    $('#overlay').show();
    form=$('#formcreate_integracion').serialize();
    $.ajax({
        url: "/eq-ce/create_integracion",
        type:'post',
        data:form,
        success:function(resp){
            $('#integracion_id').val(resp);
            $('#overlay').hide();
            list_miembroin();
        }
    });
}


//PARA MIEMBROS
function CreateMiembroIn(){
    $('#tabla_integracion').hide();
    $('#preguntas_integracion').show();
    $('#integracion_id').val("");
    $('#i1').val("");
    $('#i2').val("");
    $('#i3').val("");
    $('#i4').val("");
    $('#i5').val("");
    $('#i6').val("");
    $('#i7').val("");
    $('#i8').val("");
    $('#i9').val("");
    $('#i10').val("");
    $('#i28').val("");
    $('#i32').val("");
    $('#i33').val("");
    $('#i34').val("");
    $('#i35').val("");
    $('#i36').val("");
    $('#i22_si').prop('checked', false);
    $('#i22_no').prop('checked', false);
    $('#i23_si').prop('checked', false);
    $('#i23_no').prop('checked', false);
    $('#i24_si').prop('checked', false);
    $('#i24_no').prop('checked', false);
    $('#i25_si').prop('checked', false);
    $('#i25_no').prop('checked', false);
    $('#i27_si').prop('checked', false);
    $('#i27_no').prop('checked', false);
    $('#i29_si').prop('checked', false);
    $('#i29_no').prop('checked', false);
    $('#i30_si').prop('checked', false);
    $('#i30_no').prop('checked', false);
    $('#i31_si').prop('checked', false);
    $('#i31_no').prop('checked', false);
    Tablas1In();
}


function list_miembroin(){
    $('#tabla_integracion').show();
    $('#preguntas_integracion').hide();
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_miembroin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_miembroin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'nombre'},
            {"data": 'pertenece'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

function edit_miembroin(id_miembro){
    $('#tabla_integracion').hide();
    $('#preguntas_integracion').show();
    $.ajax({
        url: "/eq-ce/edit_miembroin",
        method:'POST',
        dataType: 'json',
        data:{id_miembro:id_miembro, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#integracion_id').val(this.integracion_id);
                $('#i1').val(this.i1);
                $('#i2').val(this.i2);
                $('#i3').val(this.i3);
                $('#i4').val(this.i4);
                $('#i5').val(this.i5);
                $('#i6').val(this.i6);
                $('#i7').val(this.i7);
                $('#i8').val(this.i8);
                $('#i9').val(this.i9);
                $('#i10').val(this.i10);
                $('#i28').val(this.i28);
                $('#i32').val(this.i32);
                $('#i33').val(this.i33);
                $('#i34').val(this.i34);
                $('#i35').val(this.i35);
                $('#i36').val(this.i36);
                if(this.i22 == "Si"){
                    $('#i22_si').attr('checked', true);
                }else if(this.i22 == "No"){
                    $('#i22_no').attr('checked', true);
                }else{
                    $('#i22_si').attr('checked', false);
                    $('#i22_no').attr('checked', false);
                }
                if(this.i23 == "Si"){
                    $('#i23_si').attr('checked', true);
                }else if(this.i23 == "No"){
                    $('#i23_no').attr('checked', true);
                }else{
                    $('#i23_si').attr('checked', false);
                    $('#i23_no').attr('checked', false);
                }
                if(this.i24 == "Si"){
                    $('#i24_si').attr('checked', true);
                }else if(this.i24 == "No"){
                    $('#i24_no').attr('checked', true);
                }else{
                    $('#i24_si').attr('checked', false);
                    $('#i24_no').attr('checked', false);
                }
                if(this.i25 == "Si"){
                    $('#i25_si').attr('checked', true);
                }else if(this.i25 == "No"){
                    $('#i25_no').attr('checked', true);
                }else{
                    $('#i25_si').attr('checked', false);
                    $('#i25_no').attr('checked', false);
                }
                if(this.i27 == "Si"){
                    $('#i27_si').attr('checked', true);
                }else if(this.i27 == "No"){
                    $('#i27_no').attr('checked', true);
                }else{
                    $('#i27_si').attr('checked', false);
                    $('#i27_no').attr('checked', false);
                }
                if(this.i29 == "Si"){
                    $('#i29_si').attr('checked', true);
                }else if(this.i29 == "No"){
                    $('#i29_no').attr('checked', true);
                }else{
                    $('#i29_si').attr('checked', false);
                    $('#i29_no').attr('checked', false);
                }
                if(this.i30 == "Si"){
                    $('#i30_si').attr('checked', true);
                }else if(this.i30 == "No"){
                    $('#i30_no').attr('checked', true);
                }else{
                    $('#i30_si').attr('checked', false);
                    $('#i30_no').attr('checked', false);
                }
                if(this.i31 == "Si"){
                    $('#i31_si').attr('checked', true);
                }else if(this.i31 == "No"){
                    $('#i31_no').attr('checked', true);
                }else{
                    $('#i31_si').attr('checked', false);
                    $('#i31_no').attr('checked', false);
                }
            });
            Tablas1In();
        }
    });
}

function delete_miembroin(id_miembro){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_miembroin",
            method:'POST',
            type: 'post',
            data:{id_miembro:id_miembro, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('El miembro del CE fue eliminado correctamente', 'Eliminar miembro', {timeOut:3000});
                    list_miembroin();
                }
            }
        });
    })
}



function CreateOcupacionIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_ocupacionin').val(empresa_id);
    $('#proyectoid_ocupacionin').val(proyecto_id);
    $('#id_ocupacionin').val("");
    $('#i11').val("");
    $('#i12').val("");
    $('#i13').val("");
    $('#i14').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_ocupacionin').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createOcupacionInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_ocupacionin').val(id);
        $('#createOcupacionInModal').modal('toggle');
    }
}


function CreateHistoriaIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_historiain').val(empresa_id);
    $('#proyectoid_historiain').val(proyecto_id);
    $('#id_historiain').val("");
    $('#i15').val("");
    $('#i16').val("");
    $('#i17').val("");
    $('#i18').val("");
    $('#i19').val("");
    $('#i20').val("");
    $('#i21').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_historiain').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createHistoriaInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_historiain').val(id);
        $('#createHistoriaInModal').modal('toggle');
    }
}


function CreateCargoIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_cargoin').val(empresa_id);
    $('#proyectoid_cargoin').val(proyecto_id);
    $('#id_cargoin').val("");
    $('#i26').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_cargoin').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createCargoInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_cargoin').val(id);
        $('#createCargoInModal').modal('toggle');
    }
}


function CreateQUISIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_quisin').val(empresa_id);
    $('#proyectoid_quisin').val(proyecto_id);
    $('#id_quisin').val("");
    $('#i37').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_quisin').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createQUISInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_quisin').val(id);
        $('#createQUISInModal').modal('toggle');
    }
}


function CreateCEIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_cein').val(empresa_id);
    $('#proyectoid_cein').val(proyecto_id);
    $('#id_cein').val("");
    $('#i38').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_cein').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createCEInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_cein').val(id);
        $('#createCEInModal').modal('toggle');
    }
}


function CreatePCCEIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_pccein').val(empresa_id);
    $('#proyectoid_pccein').val(proyecto_id);
    $('#id_pccein').val("");
    $('#i39').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_pccein').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createPCCEInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_pccein').val(id);
        $('#createPCCEInModal').modal('toggle');
    }
}


function CreateOtraIn(){
    no1=$('#i1').val();
    empresa_id=$('#empresa_id').val();
    id=$('#integracion_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_otrain').val(empresa_id);
    $('#proyectoid_otrain').val(proyecto_id);
    $('#id_otrain').val("");
    $('#i40').val("");
    $('#i41').val("");
    if(id==""){
        if(no1!=""){
            form=$('#formcreate_integracion').serialize();
            $.ajax({
                url: "/eq-ce/guardar_integracion",
                type:'post',
                data:form,
                success:function(resp){
                    $('#integracionid_otrain').val(resp);
                    $('#integracion_id').val(resp);
                    $('#createOtraInModal').modal('toggle');
                }
            });
        }else{
            alert("No puede estar el nombre del miembro del CE vacío");
        }
    }else{
        $('#integracionid_otrain').val(id);
        $('#createOtraInModal').modal('toggle');
    }
}


function CreateComiteIn(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_comitein').val(empresa_id);
    $('#proyectoid_comitein').val(proyecto_id);
    $('#id_comitein').val("");
    $('#i42').val("");
    $('#i43').val("");
    $('#i44').val("");
    $('#i45').val("");
    $('#i46').val("");
    $('#i47_si').prop('checked', false);
    $('#i47_no').prop('checked', false);
    $('#i48_si').prop('checked', false);
    $('#i48_no').prop('checked', false);
    $('#i49_si').prop('checked', false);
    $('#i49_no').prop('checked', false);
    $('#i50_si').prop('checked', false);
    $('#i50_no').prop('checked', false);
    $('#i51_si').prop('checked', false);
    $('#i51_no').prop('checked', false);
    for(a=52; a<=84; a++){
        $('#i'+a).val("");
    }
    $('#createComiteInModal').modal('toggle');
    CargarMiembroIn();
}


function CreateRegistroIn(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_registroin').val(empresa_id);
    $('#proyectoid_registroin').val(proyecto_id);
    $('#id_registroin').val("");
    $('#i85').val("");
    $('#i86').val("");
    $('#i87').val("");
    $('#i88').val("");
    $('#i89').val("");
    $('#i90').val("");
    $('#i91').val("");
    $('#i92').val("");
    $('#i95').val("");
    $('#i96').val("");
    $('#i97').val("");
    $('#i93_si').prop('checked', false);
    $('#i93_no').prop('checked', false);
    $('#i94_si').prop('checked', false);
    $('#i94_no').prop('checked', false);
    $('#i98_si').prop('checked', false);
    $('#i98_no').prop('checked', false);
    $('#createRegistroInModal').modal('toggle');
    CargarPeriodoIn();
}


function CreateRenovacionIn(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_renovacionin').val(empresa_id);
    $('#proyectoid_renovacionin').val(proyecto_id);
    $('#id_renovacionin').val("");
    $('#i99').val("");
    $('#i100').val("");
    $('#i101').val("");
    $('#i102').val("");
    $('#createRenovacionInModal').modal('toggle');
}


function CreateActualizacionIn(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_actualizacionin').val(empresa_id);
    $('#proyectoid_actualizacionin').val(proyecto_id);
    $('#id_actualizacionin').val("");
    $('#i103').val("");
    $('#i104').val("");
    $('#i105').val("");
    $('#i106').val("");
    $('#i107').val("");
    $('#i109').val("");
    $('#i108_si').prop('checked', false);
    $('#i108_no').prop('checked', false);
    $('#createActualizacionInModal').modal('toggle');
}


function CreateInformeIn(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    $('#empresaid_informein').val(empresa_id);
    $('#proyectoid_informein').val(proyecto_id);
    $('#id_informein').val("");
    $('#i110').val("");
    $('#i111_si').prop('checked', false);
    $('#i111_no').prop('checked', false);
    $('#createInformeInModal').modal('toggle');
}





//MODALS OCUPACION
function list_ocupacionin(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_ocupacionin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_ocupacionin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'puesto'},
            {"data": 'institucion'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_ocupacionin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no11=$('#i11').val();
    id=$('#integracionid_ocupacionin').val();
    empresa_id=$('#empresaid_ocupacionin').val();
    proyecto_id=$('#proyectoid_ocupacionin').val();
    if(no11!=""){
        $.ajax({
            url: "/eq-ce/create_ocupacionin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGOcupacionIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createOcupacionInModal').modal('hide');
                    toastr.success('La ocupación fue guardada correctamente', 'Guardar ocupación', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGOcupacionIn').show();
                        list_ocupacionin();
                    }
                }else{
                    $('#btnGOcupacionIn').show();
                    toastr.warning('La ocupación ya se encuentra dada de alta', 'Guardar ocupación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar el puesto vacío");
    }
});

function edit_ocupacionin(id_ocupacion){
    $.ajax({
        url: "/eq-ce/edit_ocupacionin",
        method:'POST',
        dataType: 'json',
        data:{id_ocupacion:id_ocupacion, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_ocupacionin').val(this.empresa_id);
                $('#integracionid_ocupacionin').val(this.integracion_id);
                $('#proyectoid_ocupacionin').val(this.proyecto_id);
                $('#id_ocupacionin').val(id_ocupacion);
                $('#i11').val(this.i11);
                $('#i12').val(this.i12);
                $('#i13').val(this.i13);
                $('#i14').val(this.i14);
                $('#createOcupacionInModal').modal('toggle');
            });
        }
    });
}

function delete_ocupacionin(id_ocupacion){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_ocupacionin",
            method:'POST',
            type: 'post',
            data:{id_ocupacion:id_ocupacion, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La ocupación fue eliminada correctamente', 'Eliminar ocupación', {timeOut:3000});
                    list_ocupacionin();
                }
            }
        });
    })
}




//MODALS HISTORIA
function list_historiain(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_historiain').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_historiain",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'institucion'},
            {"data": 'grado'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_historiain').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no15=$('#i15').val();
    id=$('#integracionid_historiain').val();
    empresa_id=$('#empresaid_historiain').val();
    proyecto_id=$('#proyectoid_historiain').val();
    if(no15!=""){
        $.ajax({
            url: "/eq-ce/create_historiain",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGHistoriaIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createHistoriaInModal').modal('hide');
                    toastr.success('La institución fue guardada correctamente', 'Guardar institución', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGHistoriaIn').show();
                        list_historiain();
                    }
                }else{
                    $('#btnGHistoriaIn').show();
                    toastr.warning('La institución ya se encuentra dada de alta', 'Guardar institución', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la institución vacía");
    }
});

function edit_historiain(id_historia){
    $.ajax({
        url: "/eq-ce/edit_historiain",
        method:'POST',
        dataType: 'json',
        data:{id_historia:id_historia, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_historiain').val(this.empresa_id);
                $('#integracionid_historiain').val(this.integracion_id);
                $('#proyectoid_historiain').val(this.proyecto_id);
                $('#id_historiain').val(id_historia);
                $('#i15').val(this.i15);
                $('#i16').val(this.i16);
                $('#i17').val(this.i17);
                $('#i18').val(this.i18);
                $('#i19').val(this.i19);
                $('#i20').val(this.i20);
                $('#i21').val(this.i21);
                $('#createHistoriaInModal').modal('toggle');
            });
        }
    });
}

function delete_historiain(id_historia){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_historiain",
            method:'POST',
            type: 'post',
            data:{id_historia:id_historia, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La institución fue eliminada correctamente', 'Eliminar institución', {timeOut:3000});
                    list_historiain();
                }
            }
        });
    })
}




//MODALS CARGO
function list_cargoin(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_cargoin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_cargoin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'cargo'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_cargoin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no26=$('#i26').val();
    id=$('#integracionid_cargoin').val();
    empresa_id=$('#empresaid_cargoin').val();
    proyecto_id=$('#proyectoid_cargoin').val();
    if(no26!=""){
        $.ajax({
            url: "/eq-ce/create_cargoin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGCargoIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createCargoInModal').modal('hide');
                    toastr.success('El cargo fue guardado correctamente', 'Guardar cargo', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGCargoIn').show();
                        list_cargoin();
                    }
                }else{
                    $('#btnGCargoIn').show();
                    toastr.warning('El cargo ya se encuentra dado de alta', 'Guardar cargo', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar el cargo vacío");
    }
});

function edit_cargoin(id_cargo){
    $.ajax({
        url: "/eq-ce/edit_cargoin",
        method:'POST',
        dataType: 'json',
        data:{id_cargo:id_cargo, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_cargoin').val(this.empresa_id);
                $('#integracionid_cargoin').val(this.integracion_id);
                $('#proyectoid_cargoin').val(this.proyecto_id);
                $('#id_cargoin').val(id_cargo);
                $('#i26').val(this.i26);
                $('#createCargoInModal').modal('toggle');
            });
        }
    });
}

function delete_cargoin(id_cargo){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_cargoin",
            method:'POST',
            type: 'post',
            data:{id_cargo:id_cargo, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('El cargo fue eliminado correctamente', 'Eliminar cargo', {timeOut:3000});
                    list_cargoin();
                }
            }
        });
    })
}




//MODALS QUIS
function list_quisin(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_quisin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_quisin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'quis'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_quisin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no37=$('#i37').val();
    id=$('#integracionid_quisin').val();
    empresa_id=$('#empresaid_quisin').val();
    proyecto_id=$('#proyectoid_quisin').val();
    if(no37!=""){
        $.ajax({
            url: "/eq-ce/create_quisin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGQUISIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createQUISInModal').modal('hide');
                    toastr.success('La capacitación fue guardada correctamente', 'Guardar capacitación', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGQUISIn').show();
                        list_quisin();
                    }
                }else{
                    $('#btnGQUISIn').show();
                    toastr.warning('La capacitación ya se encuentra dada de alta', 'Guardar capacitación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la fecha de capacitación vacía");
    }
});

function edit_quisin(id_quis){
    $.ajax({
        url: "/eq-ce/edit_quisin",
        method:'POST',
        dataType: 'json',
        data:{id_quis:id_quis, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_quisin').val(this.empresa_id);
                $('#integracionid_quisin').val(this.integracion_id);
                $('#proyectoid_quisin').val(this.proyecto_id);
                $('#id_quisin').val(id_quis);
                $('#i37').val(this.i37);
                $('#createQUISInModal').modal('toggle');
            });
        }
    });
}

function delete_quisin(id_quis){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_quisin",
            method:'POST',
            type: 'post',
            data:{id_quis:id_quis, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La capacitación fue eliminada correctamente', 'Eliminar capacitación', {timeOut:3000});
                    list_quisin();
                }
            }
        });
    })
}




//MODALS CE
function list_cein(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_cein').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_cein",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'ce'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_cein').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no38=$('#i38').val();
    id=$('#integracionid_cein').val();
    empresa_id=$('#empresaid_cein').val();
    proyecto_id=$('#proyectoid_cein').val();
    if(no38!=""){
        $.ajax({
            url: "/eq-ce/create_cein",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGCEIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createCEInModal').modal('hide');
                    toastr.success('La capacitación fue guardada correctamente', 'Guardar capacitación', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGCEIn').show();
                        list_cein();
                    }
                }else{
                    $('#btnGCEIn').show();
                    toastr.warning('La capacitación ya se encuentra dada de alta', 'Guardar capacitación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la fecha de capacitación vacía");
    }
});

function edit_cein(id_ce){
    $.ajax({
        url: "/eq-ce/edit_cein",
        method:'POST',
        dataType: 'json',
        data:{id_ce:id_ce, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_cein').val(this.empresa_id);
                $('#integracionid_cein').val(this.integracion_id);
                $('#proyectoid_cein').val(this.proyecto_id);
                $('#id_cein').val(id_ce);
                $('#i38').val(this.i38);
                $('#createCEInModal').modal('toggle');
            });
        }
    });
}

function delete_cein(id_ce){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_cein",
            method:'POST',
            type: 'post',
            data:{id_ce:id_ce, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La capacitación fue eliminada correctamente', 'Eliminar capacitación', {timeOut:3000});
                    list_cein();
                }
            }
        });
    })
}




//MODALS PCCE
function list_pccein(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_pccein').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_pccein",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'pcce'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_pccein').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no39=$('#i39').val();
    id=$('#integracionid_pccein').val();
    empresa_id=$('#empresaid_pccein').val();
    proyecto_id=$('#proyectoid_pccein').val();
    if(no39!=""){
        $.ajax({
            url: "/eq-ce/create_pccein",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGPCCEIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createPCCEInModal').modal('hide');
                    toastr.success('La capacitación fue guardada correctamente', 'Guardar capacitación', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGPCCEIn').show();
                        list_pccein();
                    }
                }else{
                    $('#btnGPCCEIn').show();
                    toastr.warning('La capacitación ya se encuentra dada de alta', 'Guardar capacitación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la fecha de capacitación vacía");
    }
});

function edit_pccein(id_pcce){
    $.ajax({
        url: "/eq-ce/edit_pccein",
        method:'POST',
        dataType: 'json',
        data:{id_pcce:id_pcce, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_pccein').val(this.empresa_id);
                $('#integracionid_pccein').val(this.integracion_id);
                $('#proyectoid_pccein').val(this.proyecto_id);
                $('#id_pccein').val(id_pcce);
                $('#i39').val(this.i39);
                $('#createPCCEInModal').modal('toggle');
            });
        }
    });
}

function delete_pccein(id_pcce){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_pccein",
            method:'POST',
            type: 'post',
            data:{id_pcce:id_pcce, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La capacitación fue eliminada correctamente', 'Eliminar capacitación', {timeOut:3000});
                    list_pccein();
                }
            }
        });
    })
}




//MODALS OTRA
function list_otrain(){
    empresa_id=$('#empresa_id').val();
    integracion_id=$('#integracion_id').val();
    var list = $('#tbl_otrain').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_otrain",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                integracion_id:integracion_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'nombre'},
            {"data": 'fecha'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_otrain').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no40=$('#i40').val();
    id=$('#integracionid_otrain').val();
    empresa_id=$('#empresaid_otrain').val();
    proyecto_id=$('#proyectoid_otrain').val();
    if(no40!=""){
        $.ajax({
            url: "/eq-ce/create_otrain",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGOtraIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createOtraInModal').modal('hide');
                    toastr.success('La capacitación fue guardada correctamente', 'Guardar capacitación', {timeOut:3000});
                    if(id==""){
                        location.href=proyecto_id+"/show";
                    }else{
                        $('#btnGOtraIn').show();
                        list_otrain();
                    }
                }else{
                    $('#btnGOtraIn').show();
                    toastr.warning('La capacitación ya se encuentra dada de alta', 'Guardar capacitación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la capacitación vacía");
    }
});

function edit_otrain(id_otra){
    $.ajax({
        url: "/eq-ce/edit_otrain",
        method:'POST',
        dataType: 'json',
        data:{id_otra:id_otra, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_otrain').val(this.empresa_id);
                $('#integracionid_otrain').val(this.integracion_id);
                $('#proyectoid_otrain').val(this.proyecto_id);
                $('#id_otrain').val(id_otra);
                $('#i40').val(this.i40);
                $('#i41').val(this.i41);
                $('#createOtraInModal').modal('toggle');
            });
        }
    });
}

function delete_otrain(id_otra){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_otrain",
            method:'POST',
            type: 'post',
            data:{id_otra:id_otra, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La capacitación fue eliminada correctamente', 'Eliminar capacitación', {timeOut:3000});
                    list_otrain();
                }
            }
        });
    })
}




//MODALS COMITE
function list_comitein(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_comitein').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_comitein",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'nombre'},
            {"data": 'periodo'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_comitein').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no42=$('#i42').val();
    empresa_id=$('#empresaid_comitein').val();
    proyecto_id=$('#proyectoid_comitein').val();
    if(no42!=""){
        $.ajax({
            url: "/eq-ce/create_comitein",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGComiteIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createComiteInModal').modal('hide');
                    toastr.success('El comité fue guardado correctamente', 'Guardar comité', {timeOut:3000});
                    $('#btnGComiteIn').show();
                    list_comitein();
                }else{
                    $('#btnGComiteIn').show();
                    toastr.warning('El periodo ya se encuentra dado de alta', 'Guardar comité', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar el nombre del comité vacío");
    }
});

function edit_comitein(id_comite){
    CargarMiembroIn();
    $.ajax({
        url: "/eq-ce/edit_comitein",
        method:'POST',
        dataType: 'json',
        data:{id_comite:id_comite, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_comitein').val(this.empresa_id);
                $('#integracionid_comitein').val(this.integracion_id);
                $('#proyectoid_comitein').val(this.proyecto_id);
                $('#id_comitein').val(id_comite);
                $('#i42').val(this.i42);
                $('#i43').val(this.i43);
                $('#i44').val(this.i44);
                $('#i45').val(this.i45);
                $('#i46').val(this.i46);
                if(this.i47 == "Si"){
                    $('#i47_si').attr('checked', true);
                }else if(this.i47 == "No"){
                    $('#i47_no').attr('checked', true);
                }else{
                    $('#i47_si').attr('checked', false);
                    $('#i47_no').attr('checked', false);
                }
                if(this.i48 == "Si"){
                    $('#i48_si').attr('checked', true);
                }else if(this.i48 == "No"){
                    $('#i48_no').attr('checked', true);
                }else{
                    $('#i48_si').attr('checked', false);
                    $('#i48_no').attr('checked', false);
                }
                if(this.i49 == "Si"){
                    $('#i49_si').attr('checked', true);
                }else if(this.i49 == "No"){
                    $('#i49_no').attr('checked', true);
                }else{
                    $('#i49_si').attr('checked', false);
                    $('#i49_no').attr('checked', false);
                }
                if(this.i50 == "Si"){
                    $('#i50_si').attr('checked', true);
                }else if(this.i50 == "No"){
                    $('#i50_no').attr('checked', true);
                }else{
                    $('#i50_si').attr('checked', false);
                    $('#i50_no').attr('checked', false);
                }
                if(this.i51 == "Si"){
                    $('#i51_si').attr('checked', true);
                }else if(this.i51 == "No"){
                    $('#i51_no').attr('checked', true);
                }else{
                    $('#i51_si').attr('checked', false);
                    $('#i51_no').attr('checked', false);
                }
                $('#i52').val(this.i52);
                $('#i53').val(this.i53);
                $('#i54').val(this.i54);
                $('#i55').val(this.i55);
                $('#i56').val(this.i56);
                $('#i57').val(this.i57);
                $('#i58').val(this.i58);
                $('#i59').val(this.i59);
                $('#i60').val(this.i60);
                $('#i61').val(this.i61);
                $('#i62').val(this.i62);
                $('#i63').val(this.i63);
                $('#i64').val(this.i64);
                $('#i65').val(this.i65);
                $('#i66').val(this.i66);
                $('#i67').val(this.i67);
                $('#i68').val(this.i68);
                $('#i69').val(this.i69);
                $('#i70').val(this.i70);
                $('#i71').val(this.i71);
                $('#i72').val(this.i72);
                $('#i73').val(this.i73);
                $('#i74').val(this.i74);
                $('#i75').val(this.i75);
                $('#i76').val(this.i76);
                $('#i77').val(this.i77);
                $('#i78').val(this.i78);
                $('#i79').val(this.i79);
                $('#i80').val(this.i80);
                $('#i81').val(this.i81);
                $('#i82').val(this.i82);
                $('#i83').val(this.i83);
                $('#i84').val(this.i84);
                $('#createComiteInModal').modal('toggle');
            });
        }
    });
}

function delete_comitein(id_comite){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_comitein",
            method:'POST',
            type: 'post',
            data:{id_comite:id_comite, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('El comité fue eliminado correctamente', 'Eliminar comité', {timeOut:3000});
                    list_comitein();
                }
            }
        });
    })
}




//MODALS REGISTRO
function list_registroin(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_registroin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_registroin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'nombre'},
            {"data": 'periodo'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_registroin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no85=$('#i85').val();
    empresa_id=$('#empresaid_registroin').val();
    proyecto_id=$('#proyectoid_registroin').val();
    if(no85!=""){
        $.ajax({
            url: "/eq-ce/create_registroin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGRegistroIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createRegistroInModal').modal('hide');
                    toastr.success('El registro fue guardado correctamente', 'Guardar registro', {timeOut:3000});
                    $('#btnGRegistroIn').show();
                    list_registroin();
                }else{
                    $('#btnGRegistroIn').show();
                    toastr.warning('El registro ya se encuentra dado de alta', 'Guardar registro', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar el nombre del comité vacío");
    }
});

function edit_registroin(id_registro){
    CargarPeriodoIn();
    $.ajax({
        url: "/eq-ce/edit_registroin",
        method:'POST',
        dataType: 'json',
        data:{id_registro:id_registro, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_registroin').val(this.empresa_id);
                $('#integracionid_registroin').val(this.integracion_id);
                $('#proyectoid_registroin').val(this.proyecto_id);
                $('#id_registroin').val(id_registro);
                $('#i85').val(this.i85);
                $('#i86').val(this.i86);
                $('#i87').val(this.i87);
                $('#i88').val(this.i88);
                $('#i89').val(this.i89);
                $('#i90').val(this.i90);
                $('#i91').val(this.i91);
                $('#i92').val(this.i92);
                $('#i95').val(this.i95);
                $('#i96').val(this.i96);
                $('#i97').val(this.i97);
                if(this.i93 == "Si"){
                    $('#i93_si').attr('checked', true);
                }else if(this.i93 == "No"){
                    $('#i93_no').attr('checked', true);
                }else{
                    $('#i93_si').attr('checked', false);
                    $('#i93_no').attr('checked', false);
                }
                if(this.i94 == "Si"){
                    $('#i94_si').attr('checked', true);
                }else if(this.i94 == "No"){
                    $('#i94_no').attr('checked', true);
                }else{
                    $('#i94_si').attr('checked', false);
                    $('#i94_no').attr('checked', false);
                }
                if(this.i98 == "Si"){
                    $('#i98_si').attr('checked', true);
                }else if(this.i98 == "No"){
                    $('#i98_no').attr('checked', true);
                }else{
                    $('#i98_si').attr('checked', false);
                    $('#i98_no').attr('checked', false);
                }
                $('#createRegistroInModal').modal('toggle');
            });
        }
    });
}

function delete_registroin(id_registro){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_registroin",
            method:'POST',
            type: 'post',
            data:{id_registro:id_registro, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('El registro fue eliminado correctamente', 'Eliminar registro', {timeOut:3000});
                    list_registroin();
                }
            }
        });
    })
}




//MODALS RENOVACION
function list_renovacionin(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_renovacionin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_renovacionin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'nombre'},
            {"data": 'fecha'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_renovacionin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no99=$('#i99').val();
    empresa_id=$('#empresaid_renovacionin').val();
    proyecto_id=$('#proyectoid_renovacionin').val();
    if(no99!=""){
        $.ajax({
            url: "/eq-ce/create_renovacionin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGRenovacionIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createRenovacionInModal').modal('hide');
                    toastr.success('La renovación fue guardada correctamente', 'Guardar renovación', {timeOut:3000});
                    $('#btnGRenovacionIn').show();
                    list_renovacionin();
                }else{
                    $('#btnGRenovacionIn').show();
                    toastr.warning('La renovación ya se encuentra dada de alta', 'Guardar renovación', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar el nombre del comité vacío");
    }
});

function edit_renovacionin(id_renovacion){
    $.ajax({
        url: "/eq-ce/edit_renovacionin",
        method:'POST',
        dataType: 'json',
        data:{id_renovacion:id_renovacion, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_renovacionin').val(this.empresa_id);
                $('#integracionid_renovacionin').val(this.integracion_id);
                $('#proyectoid_renovacionin').val(this.proyecto_id);
                $('#id_renovacionin').val(id_renovacion);
                $('#i99').val(this.i99);
                $('#i100').val(this.i100);
                $('#i101').val(this.i101);
                $('#i102').val(this.i102);
                $('#createRenovacionInModal').modal('toggle');
            });
        }
    });
}

function delete_renovacionin(id_renovacion){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_renovacionin",
            method:'POST',
            type: 'post',
            data:{id_renovacion:id_renovacion, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La renovación fue eliminada correctamente', 'Eliminar renovación', {timeOut:3000});
                    list_renovacionin();
                }
            }
        });
    })
}




//MODALS ACTUALIZACION
function list_actualizacionin(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_actualizacionin').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_actualizacionin",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'fecha'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_actualizacionin').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no103=$('#i103').val();
    empresa_id=$('#empresaid_actualizacionin').val();
    proyecto_id=$('#proyectoid_actualizacionin').val();
    if(no103!=""){
        $.ajax({
            url: "/eq-ce/create_actualizacionin",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGActualizacionIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createActualizacionInModal').modal('hide');
                    toastr.success('La actualización regulatoria fue guardada correctamente', 'Guardar actualización', {timeOut:3000});
                    $('#btnGActualizacionIn').show();
                    list_actualizacionin();
                }else{
                    $('#btnGActualizacionIn').show();
                    toastr.warning('La actualización regulatoria ya se encuentra dada de alta', 'Guardar actualización', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la fecha de actualización regulatoria vacía");
    }
});

function edit_actualizacionin(id_actualizacion){
    $.ajax({
        url: "/eq-ce/edit_actualizacionin",
        method:'POST',
        dataType: 'json',
        data:{id_actualizacion:id_actualizacion, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_actualizacionin').val(this.empresa_id);
                $('#integracionid_actualizacionin').val(this.integracion_id);
                $('#proyectoid_actualizacionin').val(this.proyecto_id);
                $('#id_actualizacionin').val(id_actualizacion);
                $('#i103').val(this.i103);
                $('#i104').val(this.i104);
                $('#i105').val(this.i105);
                $('#i106').val(this.i106);
                $('#i107').val(this.i107);
                $('#i109').val(this.i109);
                if(this.i108 == "Si"){
                    $('#i108_si').attr('checked', true);
                }else if(this.i108 == "No"){
                    $('#i108_no').attr('checked', true);
                }else{
                    $('#i108_si').attr('checked', false);
                    $('#i108_no').attr('checked', false);
                }
                $('#createActualizacionInModal').modal('toggle');
            });
        }
    });
}

function delete_actualizacionin(id_actualizacion){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_actualizacionin",
            method:'POST',
            type: 'post',
            data:{id_actualizacion:id_actualizacion, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('La actualización regulatoria fue eliminada correctamente', 'Eliminar actualización', {timeOut:3000});
                    list_actualizacionin();
                }
            }
        });
    })
}




//MODALS INFORME
function list_informein(){
    empresa_id=$('#empresa_id').val();
    proyecto_id=$('#proyecto_id').val();
    var list = $('#tbl_informein').DataTable({
        dom: 'T<"clear">lfrtip',
        "processing": true,
        "serverSide": true,
        destroy: true,
        "lengthMenu": [[5, 10, 50, -1], [5, 10, 50, "Todos"]],
        "ajax":{
            "url": "/eq-ce/list_informein",
            "method": "POST",
            "data": {
                empresa_id:empresa_id,
                proyecto_id:proyecto_id,
                _token:$('input[name="_token"]').val()
            },
            
        },
        "columns": [
            {"data": 'fecha'},
            {"data": 'edit'},
            {"data": 'delete'},
        ],
        "language": espanol
    });
}

$('#formcreate_informein').on('submit', function(e) {
    e.preventDefault();
    var formData = new FormData(this);
    formData.append('_token', $('input[name=_token]').val());
    no110=$('#i110').val();
    empresa_id=$('#empresaid_informein').val();
    proyecto_id=$('#proyectoid_informein').val();
    if(no110!=""){
        $.ajax({
            url: "/eq-ce/create_informein",
            type:'post',
            data:formData,
            cache:false,
            contentType: false,
            processData: false,
            beforeSend:function(){
                $('#btnGInformeIn').hide();
            },
            success:function(resp){
                if(resp == "guardado"){
                    $('#createInformeInModal').modal('hide');
                    toastr.success('El informe fue guardado correctamente', 'Guardar informe', {timeOut:3000});
                    $('#btnGInformeIn').show();
                    list_informein();
                }else{
                    $('#btnGInformeIn').show();
                    toastr.warning('El informe ya se encuentra dado de alta', 'Guardar informe', {timeOut:3000});
                }
            }
        });
    }else{
        alert("No puede estar la fecha de informe vacía");
    }
});

function edit_informein(id_informe){
    $.ajax({
        url: "/eq-ce/edit_informein",
        method:'POST',
        dataType: 'json',
        data:{id_informe:id_informe, _token:$('input[name="_token"]').val()},
        success:function(data){
            var posts = JSON.parse(data);
            $.each(posts, function() {
                $('#empresaid_informein').val(this.empresa_id);
                $('#integracionid_informein').val(this.integracion_id);
                $('#proyectoid_informein').val(this.proyecto_id);
                $('#id_informein').val(id_informe);
                $('#i110').val(this.i110);
                if(this.i111 == "Si"){
                    $('#i111_si').attr('checked', true);
                }else if(this.i111 == "No"){
                    $('#i111_no').attr('checked', true);
                }else{
                    $('#i111_si').attr('checked', false);
                    $('#i111_no').attr('checked', false);
                }
                $('#createInformeInModal').modal('toggle');
            });
        }
    });
}

function delete_informein(id_informe){
    $('#deleteModal').modal('show');
    $('#btnEliminarRegistro').click(function(){
        $.ajax({
            url: "/eq-ce/delete_informein",
            method:'POST',
            type: 'post',
            data:{id_informe:id_informe, _token:$('input[name="_token"]').val()},
            success:function(resp){
                if(resp == "eliminado"){
                    toastr.success('El informe fue eliminado correctamente', 'Eliminar informe', {timeOut:3000});
                    list_informein();
                }
            }
        });
    })
}

